YUI.add("moodle-availability_enroldate-form",(function(e,a){M.availability_relativedate=M.availability_relativedate||{},M.availability_relativedate.form=e.Object(M.core_availability.plugin),M.availability_relativedate.form.timeFields=null,M.availability_relativedate.form.isSection=null,M.availability_relativedate.form.initInner=function(e,a){this.timeFields=e,this.isSection=a},M.availability_relativedate.form.getNode=function(a){var l='<span class="availability-relativedate">';for(l+="<span>"+M.util.get_string("gone","availability_enroldate")+"<span>",l+='<label><select name="relativenumber">',i=1;i<60;i++)l+='<option value="'+i+'">'+i+"</option>";for(l+="</select></label> ",l+='<label><select name="relativednw">',i=0;i<this.timeFields.length;i++)l+='<option value="'+this.timeFields[i].field+'">'+this.timeFields[i].display+"</option>";l+="</select></label> ",l+='<span class="relativestart">'+M.util.get_string("dateenrol","availability_enroldate")+"</span>";var t=e.Node.create("<span>"+l+"</span>"),n=1;(void 0!==a.n&&(n=a.n),t.one("select[name=relativenumber]").set("value",n),n=2,void 0!==a.d&&(n=a.d),t.one("select[name=relativednw]").set("value",n),M.availability_relativedate.form.addedEvents)||(M.availability_relativedate.form.addedEvents=!0,e.one(".availability-field").delegate("change",(function(){M.core_availability.form.update()}),".availability_relativedate select"));return t},M.availability_relativedate.form.fillValue=function(e,a){e.n=Number(a.one("select[name=relativenumber]").get("value")),e.d=Number(a.one("select[name=relativednw]").get("value"))},M.availability_relativedate.form.fillErrors=function(e,a){this.fillValue({},a)}}),"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});
